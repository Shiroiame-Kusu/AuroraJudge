# =============================================================================
# AuroraJudge Backend 配置文件
# =============================================================================

# -----------------------------------------------------------------------------
# 数据库配置 (必需)
# -----------------------------------------------------------------------------
[database]
host = localhost
port = 5432
name = aurorajudge
user = postgres
password = your_secure_password

# -----------------------------------------------------------------------------
# JWT 配置 (必需)
# 密钥至少32字符，建议使用随机生成的长字符串
# 生成命令: openssl rand -hex 64
# -----------------------------------------------------------------------------
[jwt]
secret = YourSuperSecretKeyHereMustBeAtLeast32CharactersLongForSecurity!

# -----------------------------------------------------------------------------
# Redis 配置 (可选)
# 用于分布式缓存和会话管理
# 留空则使用内存缓存，适合单机部署
# 格式: localhost:6379 或 host:port,password=xxx
# -----------------------------------------------------------------------------
[redis]
connection = 

# -----------------------------------------------------------------------------
# RabbitMQ 配置 (可选 - 仅用于旧版 RabbitMQ 模式)
# 新架构使用 HTTP API 通信，不再依赖 RabbitMQ
# 格式: amqp://username:password@host:port/vhost
# -----------------------------------------------------------------------------
[rabbitmq]
connection = 

# -----------------------------------------------------------------------------
# 评测模式配置 (可选)
# 可选值: auto, rabbitmq, inprocess
# - auto: 自动检测 (有 RabbitMQ 用 RabbitMQ，否则用内嵌)
# - rabbitmq: 强制使用 RabbitMQ + Judger
# - inprocess: 强制使用内嵌评测
# -----------------------------------------------------------------------------
[judge]
mode = auto

# -----------------------------------------------------------------------------
# 文件存储配置 (可选)
# type 可选值: Local, Minio
# Local: 使用本地文件系统存储
# Minio: 使用 MinIO/S3 兼容对象存储
# -----------------------------------------------------------------------------
[storage]
type = Local
local_path = ./data

# MinIO 配置 (当 type = Minio 时需要)
[minio]
endpoint = localhost:9000
access_key = minioadmin
secret_key = minioadmin
use_ssl = false
bucket = aurorajudge

# -----------------------------------------------------------------------------
# CORS 配置
# 允许的前端域名，多个源用逗号分隔
# -----------------------------------------------------------------------------
[cors]
origins = http://localhost:5173,http://localhost:3000

# -----------------------------------------------------------------------------
# 服务器配置
# -----------------------------------------------------------------------------
[server]
environment = Development
urls = http://+:5000
